<div class="p-4 pixel-card">
  <div class="flex items-center justify-between mb-3">
    <h2 class="text-base pixel-title">SALAS ACTIVAS</h2>
    <div class="flex items-center space-x-2">
      <button (click)="onLogout()" class="text-xs underline text-emerald-200">Logout</button>
      @if (loading$ | async) { <span class="text-xs text-emerald-300">Actualizando...</span> }
    </div>
  </div>

  @if (rooms$ | async; as rooms) {
    @if (rooms.length === 0) {
      <p class="text-xs text-emerald-200">No hay salas activas aún.</p>
    } @else {
      <ul class="divide-y divide-emerald-800/40">
        @for (room of rooms; track room.roomId) {
          <li class="flex items-center justify-between py-3">
            <div class="text-sm text-emerald-100">
              <div class="font-semibold">Código: <span class="text-emerald-300">{{ room.roomCode }}</span></div>
              <div class="text-xs opacity-80">Estado: {{ room.status }} · Jugadores: {{ room.players.length }}</div>
            </div>
            <button class="px-3 py-2 pixel-btn" (click)="enter(room.roomCode)">ENTRAR</button>
          </li>
        }
      </ul>
    }
  }
</div>
